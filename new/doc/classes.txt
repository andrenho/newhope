@startuml

package engine <<Frame>> {
  class Engine
  class Map

  package game <<Frame>> {
    class Game
    class GameMap
  }

  package editor <<Frame>> {
    class Editor
    class MapEditor
  }
}

Engine <|-- Game
Engine <|-- Editor
Engine --> Map
Map <|-- MapEditor
Map <|-- GameMap

package ui <<Frame>> {
  class Imageset
  class Layer
  class LayerTerrain
  class LayerObject
  class LayerDialog
  class UI
  class UIGame
  class Scene

  package dialog <<Frame>> {
    class Dialog
    class Elements
    class TextWall
    class DialogInput
  }

  package image <<Frame>> {
    class Image
    class ImageIndexed
    class ImageRGB
  }

  package ui/editor <<Frame>> {
    class UIEditor
    class LayerEditor
  }

}

UI <|-- UIGame
UI <|-- UIEditor
UI --> Imageset
Imageset --> Image
Image <|-- ImageIndexed
Image <|-- ImageRGB
UI --> Layer
Layer <|-- LayerTerrain
Layer <|-- LayerObject
Layer <|-- LayerDialog
LayerDialog .. Dialog
LayerTerrain .. Map
LayerObject .. Map
Engine .. Options
Dialog <|-- TextWall
TextWall <|-- DialogInput
Layer <|-- LayerEditor
Dialog .. Elements
UI .. Scene

class Scene {
  +Initialize()
  +Render()
  +setProportion(ps)
  +DrawImage(idx, x, y)
  +DrawRectangle(x1, y1, x2, y2, c)
  +WindowTileBorders(x, y, w, h)
}

@enduml
